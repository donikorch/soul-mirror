{% extends 'core/base.html' %}
{% load ai_filters %}

{% block title %}–°–æ–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω - –ó–µ—Ä–∫–∞–ª–æ –î—É—à–∏{% endblock %}

{% block content %}
<div class="result-container">
    <h1>‚ú® –°–æ–≤–µ—Ç –æ—Ç –∑–≤–µ–∑–¥</h1>

    <div class="result-card">
        <div class="advice-section">
            <h2>–í–∞—à–µ —Å–æ–±—ã—Ç–∏–µ:</h2>
            <p class="event-text">{{ entry.event_description }}</p>

            <div class="emotion-display">
                <span>–£—Ä–æ–≤–µ–Ω—å —ç–º–æ—Ü–∏–∏:</span>
                <span class="emotion-level emotion-{{ entry.emotion_level }}">{{ entry.emotion_level }}/10</span>
            </div>
        </div>

        <div class="ai-advice-section">
            <h2>üí´ –°–æ–≤–µ—Ç –¥–ª—è –≤–∞—Å:</h2>
            <div class="ai-advice">{{ entry.ai_advice|format_ai_text|highlight_keywords|safe }}</div>
        </div>

        <div class="rewards-section">
            <h3>–ù–∞–≥—Ä–∞–¥–∞:</h3>
            <div class="reward">
                <span class="reward-icon">‚≠ê</span>
                <span class="reward-text">+{{ experience_gained }} –æ–ø—ã—Ç–∞</span>
            </div>
        </div>
    </div>

    <div class="actions">
        <a href="{% url 'dashboard' %}" class="btn btn-primary">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
        <a href="{% url 'daily_entry' %}" class="btn btn-secondary">–°–æ–∑–¥–∞—Ç—å –µ—â–µ –∑–∞–ø–∏—Å—å</a>
    </div>
</div>

<style>
.ai-paragraph {
    margin-bottom: 15px;
    line-height: 1.7;
}

.ai-paragraph:last-child {
    margin-bottom: 0;
}

.keyword-highlight {
    color: var(--primary-color);
    font-weight: 600;
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.1));
    padding: 2px 6px;
    border-radius: 4px;
}
</style>
{% endblock %}
